(this["webpackJsonpe2e-dashboard"]=this["webpackJsonpe2e-dashboard"]||[]).push([[3],{137:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),l=n(58),c=n.n(l),i=n(59),r=n(171),s=n(6),u=n(68),d=n(30),b=n(31),h=n(7),j=n(53),p=/^Nightly.*Pipeline$/,m=/.*Pipeline$/,f=function(e){if(e){var t=[],n=[];return e.workflows.forEach((function(e){null!=e.name.match(p)?t.push(Object(h.a)(Object(h.a)({},e),{},{readableName:Object(j.b)(e.name)})):null!=e.name.match(m)&&n.push(Object(h.a)(Object(h.a)({},e),{},{readableName:Object(j.b)(e.name)}))})),{nightly:t,manual:n}}return{nightly:null,manual:null}},g=function(e){var t,n,a={all:{id:0,name:"all-workflows",readableName:"All Workflows",badge_url:"https://img.shields.io/badge/All%20Workflows-passing-%2331c754?logo=GitHub",workflow_runs:{updated_at:new Date(0).toISOString()},html_url:"https://github.com/litmuschaos/litmus-e2e/tree/master/.github/workflows"},manual:[],nightly:[]};return console.log("pipelineData received is",e),null===e||void 0===e||null===(t=e.manual)||void 0===t||t.forEach((function(e){Object(d.a)("".concat(b.a.pipelinesByWorkflow(e.id),"?per_page=1")).then((function(t){var n,o,l,c,i;(a.manual.push(Object(h.a)(Object(h.a)({},e),{},{workflow_runs:null===t||void 0===t||null===(n=t.workflow_runs)||void 0===n?void 0:n[0]})),new Date(a.all.workflow_runs.updated_at).getTime()<new Date(null===t||void 0===t||null===(o=t.workflow_runs)||void 0===o||null===(l=o[0])||void 0===l?void 0:l.updated_at).getTime())&&(a.all.workflow_runs.updated_at=new Date(null===t||void 0===t||null===(c=t.workflow_runs)||void 0===c||null===(i=c[0])||void 0===i?void 0:i.updated_at).toISOString())}))})),null===e||void 0===e||null===(n=e.nightly)||void 0===n||n.forEach((function(e){Object(d.a)("".concat(b.a.pipelinesByWorkflow(e.id),"?per_page=1")).then((function(t){var n,o,l,c,i;(a.nightly.push(Object(h.a)(Object(h.a)({},e),{},{workflow_runs:null===t||void 0===t||null===(n=t.workflow_runs)||void 0===n?void 0:n[0]})),new Date(a.all.workflow_runs.updated_at).getTime()<new Date(null===t||void 0===t||null===(o=t.workflow_runs)||void 0===o||null===(l=o[0])||void 0===l?void 0:l.updated_at).getTime())&&(a.all.workflow_runs.updated_at=new Date(null===t||void 0===t||null===(c=t.workflow_runs)||void 0===c||null===(i=c[0])||void 0===i?void 0:i.updated_at).toISOString())}))})),console.log("pipelineMap was",a),a},O=n(26),w=n(168),v=n(172),x=n(28),k=n(167),y=n(164),_=n(166),D=n(148),N=n.p+"static/media/slack.ff384727.svg",S=n.p+"static/media/github.1ca713cc.svg",T=n(147),B=Object(T.a)((function(e){return{appBar:{position:"sticky",boxShadow:"0px 0.6px 1.8px rgba(0, 0, 0, 0.1), 0px 3.2px 7.2px rgba(0, 0, 0, 0.13)"},toolBar:{height:"4.9rem",display:"flex",justifyContent:"space-between",background:e.palette.header,padding:e.spacing(0,7.5),"& *":{color:e.palette.text.secondary},"& nav":{flexGrow:1,marginLeft:e.spacing(15)}},details:{display:"flex",justifyContent:"flex-end"},nounderline:{textDecoration:"none"},chaosText:{fontSize:"1.625rem",color:e.palette.text.secondary,fontWeight:600},active:{background:"".concat(e.palette.cards.highlight," !important")},profileButtons:{marginTop:e.spacing(3.75)},homeIcon:{"& svg":{marginBottom:"0.3rem"}},rightSection:{display:"flex",justifyContent:"space-between","& div":{marginRight:"0.5rem"},"& a":{textDecoration:"none"}},slackIcon:{height:"max-content",paddingTop:"0.4rem"},middleSection:{display:"flex",justifyContent:"center",flexGrow:1,"& a":{margin:"0 1.5rem"}}}})),R=n(2),C=function(){var e=B(),t=Object(v.a)().t;return Object(R.jsx)("div",{"data-cy":"headerComponent",children:Object(R.jsx)(y.a,{className:e.appBar,children:Object(R.jsxs)(_.a,{disableGutters:!0,className:e.toolBar,children:[Object(R.jsx)(x.a,{to:{pathname:"/"},className:e.nounderline,children:Object(R.jsx)(k.a,{className:e.chaosText,variant:"body1",children:t("header.e2eDashboard")})}),Object(R.jsxs)("div",{className:e.middleSection,children:[Object(R.jsx)(x.a,{to:{pathname:"/",state:{pipelinesToDisplay:{manual:!0,nightly:!0}}},className:e.nounderline,children:Object(R.jsxs)(k.a,{variant:"body1",children:[Object(R.jsx)(D.a,{name:"home",size:"lg",color:"white"}),"\xa0",t("header.home")]})}),Object(R.jsx)(x.a,{to:{pathname:"/",state:{pipelinesToDisplay:{manual:!1,nightly:!0}}},className:e.nounderline,children:Object(R.jsxs)(k.a,{variant:"body1",children:[Object(R.jsx)(D.a,{name:"scheduleWorkflow",size:"lg",color:"white"}),"\xa0",t("header.nightlyRuns")]})}),Object(R.jsx)(x.a,{to:{pathname:"/",state:{pipelinesToDisplay:{manual:!0,nightly:!1}}},className:e.nounderline,children:Object(R.jsxs)(k.a,{variant:"body1",children:[Object(R.jsx)(D.a,{name:"workflow",size:"lg",color:"white"}),"\xa0",t("header.manualRuns")]})})]}),Object(R.jsxs)("div",{className:e.rightSection,children:[Object(R.jsx)("div",{className:e.slackIcon,children:Object(R.jsx)("a",{href:"https://slack.litmuschaos.io/",target:"_blank",rel:"noopener noreferrer",children:Object(R.jsx)("img",{src:S,alt:"GitHub logo"})})}),Object(R.jsx)("div",{className:e.slackIcon,children:Object(R.jsx)("a",{href:"https://slack.litmuschaos.io/",target:"_blank",rel:"noopener noreferrer",children:Object(R.jsx)("img",{src:N,alt:"Slack logo"})})})]})]})})})},I=Object(T.a)((function(e){return{root:{height:"100vh",width:"100%",gridTemplateColumns:"20.5em auto",gridTemplateRows:"6.5em auto",gridTemplateAreas:'"header header" "sidebar content"',"& ::-webkit-scrollbar":{width:"0.4rem",height:"0.4rem"},"& ::-webkit-scrollbar-track":{marginTop:e.spacing(1),webkitBoxShadow:"inset 0 0 8px ".concat(e.palette.common.black),backgroundColor:e.palette.border.main},"& ::-webkit-scrollbar-thumb":{backgroundColor:e.palette.highlight,borderRadius:8},"& img":{userDrag:"none"}},header:{gridArea:"header"},content:{gridArea:"content",padding:e.spacing(5,7.5,10),overflowY:"auto"}}})),z=function(e){var t=e.children,n=I();return Object(R.jsxs)("div",{className:n.root,children:[Object(R.jsx)(w.a,{}),Object(R.jsx)("header",{className:n.header,children:Object(R.jsx)(C,{})}),Object(R.jsx)("main",{className:n.content,children:t})]})},G=Object(T.a)({center:{width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center"}}),W=function(e){var t=e.children,n=e.className,a=G();return Object(R.jsx)("div",{className:"".concat(a.center," ").concat(n),children:t})},P=n(169),E=Object(T.a)((function(e){return{spinner:{color:e.palette.primary.main}}})),A=function(e){var t=e.size,n=e.message,a=E();return Object(R.jsxs)("div",{children:[Object(R.jsx)(W,{children:Object(R.jsx)(P.a,{className:a.spinner,size:t||40})}),Object(R.jsx)(k.a,{children:n})]})},J=function(e){var t=e.children,n=e.style;return Object(R.jsx)(a.Suspense,{fallback:Object(R.jsx)("div",{style:null!==n&&void 0!==n?n:{},children:Object(R.jsx)(W,{children:Object(R.jsx)(A,{})})}),children:t})},H=Object(a.lazy)((function(){return Promise.all([n.e(0),n.e(9)]).then(n.bind(null,345))})),L=Object(a.lazy)((function(){return Promise.all([n.e(0),n.e(1),n.e(8)]).then(n.bind(null,338))})),M=Object(a.lazy)((function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(7)]).then(n.bind(null,309))})),U=Object(a.lazy)((function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(6)]).then(n.bind(null,335))})),$=function(e){var t=e.pipelineData;return Object(R.jsx)(z,{children:Object(R.jsx)(J,{style:{height:"80vh"},children:Object(R.jsxs)(s.d,{children:[Object(R.jsx)(s.b,{exact:!0,path:"/",render:function(e){return Object(R.jsx)(L,Object(h.a)(Object(h.a)({},e),{},{pipelineData:t}))}}),Object(R.jsx)(s.b,{exact:!0,path:"/workflows",render:function(e){return Object(R.jsx)(M,Object(h.a)(Object(h.a)({},e),{},{pipelineData:t}))}}),Object(R.jsx)(s.b,{exact:!0,path:"/all",render:function(e){return Object(R.jsx)(U,Object(h.a)(Object(h.a)({},e),{},{pipelineData:t}))}}),Object(R.jsx)(s.b,{exact:!0,path:"/404",component:H}),Object(R.jsx)(s.a,{to:"/404"})]})})})},K=function(){var e=Object(a.useState)(null),t=Object(i.a)(e,2),n=t[0],o=t[1];return Object(a.useEffect)((function(){Object(O.a)("manualRuns")&&Object(O.a)("nightlyRuns")&&n||(Object(d.a)(b.a.allWorkflows()).then((function(e){console.log("data is",e);var t=f(e);console.log("pipelines is",t);var n=g(t),a=n.nightly,l=n.manual,c=n.all;console.log("all is",c),console.log("nightlyRuns is",a),console.log("manualRuns is",l),Object(O.b)("nightlyRuns",a),Object(O.b)("manualRuns",l),Object(O.b)("allRuns",c),o({nightly:a,manual:l,all:c})})).catch((function(){})),Object(O.a)("litmusGoCommits")||Object(d.a)(b.a.commits()).then((function(e){Object(O.b)("litmusGoCommits",e)})).catch((function(){})))}),[n]),Object(R.jsx)(r.a,{children:Object(R.jsx)(s.c,{history:u.a,children:Object(R.jsx)($,{pipelineData:n})})})},V=n(57),Y=n(90),q=n(91),F=n(93),Q=n(38);V.a.use(q.a).use(Y.a).use(Q.e).init({lng:"en",fallbackLng:{"en-US":["en"],"en-GB":["en"],"en-UK":["en"],default:["en"]},debug:!0,ns:["translation"],defaultNS:"translation",backend:{loadPath:"".concat("/e2e-dashboard","/locales/{{lng}}/{{ns}}.yaml"),parse:function(e){return F.a.load(e)}},interpolation:{escapeValue:!1},react:{useSuspense:!1}});V.a;c.a.render(Object(R.jsx)(o.a.StrictMode,{children:Object(R.jsx)(K,{})}),document.getElementById("root"))},26:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return o}));var a=function(e,t){"undefined"!==typeof window&&localStorage.setItem(e,JSON.stringify(t))},o=function(e){return"undefined"!==typeof window?JSON.parse(localStorage.getItem(e)):null}},30:function(e,t,n){"use strict";var a=n(81),o=n.n(a);t.a=function(e){return o()({method:"GET",url:e,headers:{Accept:"application/vnd.github.v3+json"}}).then((function(e){return e.data})).catch((function(e){console.error(e)}))}},31:function(e,t,n){"use strict";var a="https://api.github.com",o="litmuschaos",l={allWorkflows:function(){return"".concat(a,"/repos/").concat(o,"/litmus-e2e/actions/workflows")},allPipelines:function(){return"".concat(a,"/repos/").concat(o,"/litmus-e2e/actions/runs")},pipelinesByWorkflow:function(e){return"".concat(a,"/repos/").concat(o,"/litmus-e2e/actions/workflows/").concat(e,"/runs")},pipelineJobs:function(e){return"".concat(a,"/repos/").concat(o,"/litmus-e2e/actions/runs/").concat(e,"/jobs")},releaseTag:function(){return"".concat(a,"/repos/").concat(o,"/litmus/releases/latest")},repoDetails:function(){return"".concat(a,"/repos/").concat(o,"/litmus")},commits:function(){return"".concat(a,"/repos/").concat(o,"/litmus-go/commits")}};t.a=l},53:function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return i})),n.d(t,"d",(function(){return r})),n.d(t,"a",(function(){return s}));var a=n(144),o=n(138),l=n(139),c=function(e){return null===e||void 0===e?void 0:e.replace(/-/g," ")},i=function(e,t){if(!e||!t)return"";var n=Object(a.a)({start:new Date(e),end:new Date(t)});return Object(o.a)(n)||"0 second"},r=function(e,t){return e&&t?Object(l.a)(new Date(e),new Date(t))||"0 second":""},s=function(e){var t=0;e.forEach((function(e){t+=new Date(null===e||void 0===e?void 0:e.completed_at).getTime()-new Date(null===e||void 0===e?void 0:e.started_at).getTime()}));var n=new Date;return i(n,new Date(n.getTime()+t))}},68:function(e,t,n){"use strict";var a=n(11),o=Object(a.a)({basename:"/e2e-dashboard"});t.a=o}},[[137,4,5]]]);
//# sourceMappingURL=main.5bb3ba6f.chunk.js.map