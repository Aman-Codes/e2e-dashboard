(this["webpackJsonpe2e-dashboard"]=this["webpackJsonpe2e-dashboard"]||[]).push([[7],{188:function(e,t,a){"use strict";a(0);var i=a(172),n=a(332),l=a(15),s=a(147),r=a(307),c=Object(l.a)((function(){return{tooltip:{left:"-15px"}}}))(r.a),o=Object(s.a)((function(){return{smallRadialChart:{height:"3rem",margin:"0.5rem 0",width:"3rem","& p":{fontSize:"1rem",maxWidth:"8rem",minWidth:"1rem",lineHeight:"1rem",height:"0.5rem"}},largeRadialChart:{height:"7rem",margin:"0.5rem 0",width:"7rem","& p:first-of-type":{fontSize:"2rem",maxWidth:"8rem",minWidth:"1rem",lineHeight:"1rem",height:"0.5rem",marginBottom:"1rem"},"& p":{fontSize:"0.7rem",maxWidth:"8rem",minWidth:"1rem",lineHeight:"1rem",height:"0.5rem"}}}})),d=a(2);t.a=function(e){var t=e.pass,a=void 0===t?0:t,l=e.fail,s=void 0===l?0:l,r=e.pending,j=void 0===r?0:r,b=e.size,m=void 0===b?"small":b,u=e.heading,p=o(),h=Object(i.a)().t;return Object(d.jsx)(c,{title:Object(d.jsxs)("p",{children:[h("radialChart.pass"),": ",a,Object(d.jsx)("br",{}),h("radialChart.fail"),": ",s,Object(d.jsx)("br",{}),h("radialChart.pending"),": ",j]}),placement:"right",arrow:!0,children:Object(d.jsx)("div",{className:"small"===m?p.smallRadialChart:p.largeRadialChart,children:Object(d.jsx)(n.a,{showCenterHeading:!!u,heading:u,arcWidth:4,showLegend:!1,circleExpandOnHover:3,radialData:[{baseColor:"#00CC9A",label:"Pass",value:a},{baseColor:"#5252F6",label:"Pending",value:j},{baseColor:"#CA2C2C",label:"Failed",value:s}]})})})}},336:function(e,t,a){"use strict";a.r(t);var i=a(206),n=a(59),l=a(0),s=a(172),r=a(147),c=a(346),o=a(322),d=a(335),j=a(345),b=a(254),m=a(344),u=a(337),p=a(265),h=a(188),O=a(62),x=a(61),v=a(25),f=a(266),g=a(224),N=a.n(g),C=a(338),P=a(319),y=a(167),S=a(318),w=a(333),D=a(148),I=a(343),k=a(51),_={action_required:"pending",cancelled:"fail",failure:"fail",neutral:"pass",skipped:"pass",stale:"pass",startup_failure:"fail",success:"pass",timed_out:"fail"},E=function(e){var t={pending:0,pass:0,fail:0};return e&&Array.isArray(e)&&e.forEach((function(e){"completed"!==(null===e||void 0===e?void 0:e.status)?++t.pending:++t[_[null===e||void 0===e?void 0:e.conclusion]]})),t},W={"Component Pipeline":"It contains the test cases (GO BDDs) for component-level generic experiments","Pod Level Pipeline":"It contains the test cases (GO BDDs) for all pod-level generic experiments","Node Level Pipeline":"It contains the test cases (GO BDDs) for node-level generic experiments","AWS Experiment Pipeline":"It contains the test cases (GO BDDs) for all AWS experiments","Portal E2E K3S Pipeline":"It contains different UI E2E test cases for litmus portal","GCP Experiment Pipeline":"It contains the test cases (GO BDDs) for all GCP experiments","Nightly Component Pipeline":"It contains the test cases (GO BDDs) for component-level generic experiments","Nightly Pod Level Pipeline":"It contains the test cases (GO BDDs) for all pod-level generic experiments","Nightly Node Level Pipeline":"It contains the test cases (GO BDDs) for node-level generic experiments","Nightly AWS Experiment Pipeline":"It contains the test cases (GO BDDs) for all AWS experiments","Nightly Portal E2E K3S Pipeline":"It contains different UI E2E test cases for litmus portal","Nightly GCP Experiment Pipeline":"It contains the test cases (GO BDDs) for all GCP experiments"},G=a(317),B=a(312),z=a(313),A=a(315),F=a(316),R=a(314),L=Object(r.a)((function(){return{drawerContainer:{minWidth:"22rem",marginTop:"3rem",textAlign:"left"},outlinedPills:{display:"block",margin:"0.5rem",width:"min-content",borderRadius:"1rem",padding:"0.5rem 1rem 1.5rem 1rem",fontWeight:"500"},muted:{color:"#6c757d"},topMargin:{marginTop:"1rem"}}})),T=a(2),H="#09825d",J="#dd2b0e",M="#3a97d4",V="#949ab7",q=function(e){var t=e.step,a=e.connectorLine,i=void 0===a||a,n=L();if("completed"===t.status)switch(t.conclusion){case"success":return Object(T.jsxs)(B.a,{children:[Object(T.jsxs)(z.a,{children:[Object(T.jsx)(R.a,{children:Object(T.jsx)(D.a,{name:"experimentPassed",color:H})}),i&&Object(T.jsx)(A.a,{})]}),Object(T.jsxs)(F.a,{children:[t.name," ",Object(T.jsxs)("span",{className:n.muted,children:["(",Object(k.c)(null===t||void 0===t?void 0:t.started_at,null===t||void 0===t?void 0:t.completed_at),")"]})]})]});case"failure":return Object(T.jsxs)(B.a,{children:[Object(T.jsxs)(z.a,{children:[Object(T.jsx)(R.a,{children:Object(T.jsx)(D.a,{name:"experimentFailed",color:J})}),i&&Object(T.jsx)(A.a,{})]}),Object(T.jsxs)(F.a,{children:[t.name," ",Object(T.jsxs)("span",{className:n.muted,children:["(",Object(k.c)(null===t||void 0===t?void 0:t.started_at,null===t||void 0===t?void 0:t.completed_at),")"]})]})]});case"skipped":return Object(T.jsxs)(B.a,{children:[Object(T.jsxs)(z.a,{children:[Object(T.jsx)(R.a,{children:Object(T.jsx)(D.a,{name:"experimentSkipped",color:V})}),i&&Object(T.jsx)(A.a,{})]}),Object(T.jsxs)(F.a,{children:[t.name," ",Object(T.jsxs)("span",{className:n.muted,children:["(",Object(k.c)(null===t||void 0===t?void 0:t.started_at,null===t||void 0===t?void 0:t.completed_at),")"]})]})]});default:return Object(T.jsxs)(B.a,{children:[Object(T.jsxs)(z.a,{children:[Object(T.jsx)(R.a,{children:Object(T.jsx)(D.a,{name:"experimentError",color:J})}),i&&Object(T.jsx)(A.a,{})]}),Object(T.jsxs)(F.a,{children:[t.name," ",Object(T.jsxs)("span",{className:n.muted,children:["(",Object(k.c)(null===t||void 0===t?void 0:t.started_at,null===t||void 0===t?void 0:t.completed_at),")"]})]})]})}return Object(T.jsxs)(B.a,{children:[Object(T.jsxs)(z.a,{children:[Object(T.jsx)(R.a,{children:Object(T.jsx)(D.a,{name:"experimentPending",color:M})}),i&&Object(T.jsx)(A.a,{})]}),Object(T.jsxs)(F.a,{children:[t.name," ",Object(T.jsxs)("span",{className:n.muted,children:["(",Object(k.c)(null===t||void 0===t?void 0:t.started_at,null===t||void 0===t?void 0:t.completed_at),")"]})]})]})},K=function(e){var t=e.job;return Object(T.jsx)(G.a,{children:t.steps&&t.steps.map((function(e,a){return a===t.steps.length-1?Object(T.jsx)(q,{step:e,connectorLine:!1}):Object(T.jsx)(q,{step:e})}))})},U=["children","value","index"],$=function(e){var t=e.children,a=e.value,i=e.index,n=Object(f.a)(e,U);return Object(T.jsx)("div",Object(v.a)(Object(v.a)({role:"tabpanel",hidden:a!==i,id:"vertical-tabpanel-".concat(i),"aria-labelledby":"vertical-tab-".concat(i)},n),{},{children:a===i&&Object(T.jsx)(w.a,{p:3,children:Object(T.jsx)(y.a,{children:t})})}))},Q={action_required:"pending",cancelled:"failed",failure:"failed",neutral:"succeeded",skipped:"succeeded",stale:"succeeded",startup_failure:"failed",success:"succeeded",timed_out:"failed"},X=Object(r.a)((function(e){return{root:{flexGrow:1,backgroundColor:e.palette.background.paper,display:"flex",height:"max-content"},tabs:{borderRight:"1px solid ".concat(e.palette.divider)},tab:{"& span.MuiTab-wrapper":{alignItems:"flex-start"}},outlinedPills:{display:"block",margin:"0.5rem",width:"min-content",borderRadius:"1rem",padding:"0.5rem 1rem 1.5rem 1rem",fontWeight:"500"}}}));function Y(e){var t=e.data,a=e.pipelineId,i=X(),r=Object(l.useState)(0),c=Object(n.a)(r,2),o=c[0],d=c[1],j=Object(l.useState)(E(t.jobs[0].steps)||{pending:0,pass:0,fail:0}),b=Object(n.a)(j,2),m=b[0],u=b[1],p=Object(s.a)().t;return Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)("hr",{}),Object(T.jsxs)(S.a,{container:!0,rowSpacing:1,columnSpacing:{xs:1,sm:2,md:3},children:[Object(T.jsx)(S.a,{item:!0,xs:7,children:Object(T.jsxs)("p",{children:[p("table.pipelineId"),":"," ",Object(T.jsxs)("a",{href:"https://github.com/litmuschaos/litmus-e2e/actions/runs/".concat(a),target:"_blank",rel:"noopener noreferrer",children:[a,Object(T.jsx)(D.a,{name:"externalLink"})]}),Object(T.jsx)("br",{}),Object(T.jsx)(D.a,{name:"clock",size:"sm"})," ",Object(k.a)(null===t||void 0===t?void 0:t.jobs)," ",Object(T.jsx)("br",{})]})}),Object(T.jsx)(S.a,{item:!0,xs:5,children:Object(T.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:m&&Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(h.a,{pass:m.pass,fail:m.fail,pending:m.pending}),Object(T.jsx)("a",{href:t.jobs[o].html_url,target:"_blank",rel:"noopener noreferrer",style:{color:"black",height:"auto",marginTop:"auto",marginBottom:"auto"},children:Object(T.jsx)(N.a,{style:{height:"auto",fontSize:"2.1rem"}})})]})})})]}),Object(T.jsx)("hr",{}),Object(T.jsxs)("div",{className:i.root,children:[Object(T.jsx)(C.a,{orientation:"vertical",variant:"scrollable",value:o,onChange:function(e,a){d(a),u(E(t.jobs[a].steps))},"aria-label":"Vertical tabs example",className:i.tabs,children:t&&t.jobs&&t.jobs.map((function(e,t){return Object(T.jsx)(P.a,Object(v.a)(Object(v.a)({label:Object(T.jsx)(I.a,{color:"primary",label:e.name,size:"medium",variant:Q[e.conclusion],className:i.outlinedPills})},function(e){return{id:"vertical-tab-".concat(e),"aria-controls":"vertical-tabpanel-".concat(e)}}(t)),{},{className:i.tab}))}))}),t&&t.jobs.map((function(e,t){return Object(T.jsx)($,{value:o,index:t,children:Object(T.jsx)(K,{job:e})})}))]}),Object(T.jsx)("hr",{})]})}var Z=function(e){var t=e.data,a=e.tableName,r=e.match,c=(r=void 0===r?{}:r).params,o=(c=void 0===c?{}:c).pipelineName,d=e.displayVersion,j=void 0===d||d,v=Object(l.useState)(10),f=Object(n.a)(v,2),g=f[0],N=f[1],C=Object(l.useState)(null),P=Object(n.a)(C,2),y=P[0],S=P[1],w=Object(l.useState)(!1),D=Object(n.a)(w,2),I=D[0],k=D[1],_=Object(l.useState)("litmus-go"),E=Object(n.a)(_,2),W=E[0],G=E[1],B=L(),z=Object(s.a)().t,A=function(e){return function(t){("keydown"!==t.type||"Tab"!==t.key&&"Shift"!==t.key)&&k(e)}},F=[{field:"id",headerName:"Pipeline Id",flex:1,renderCell:function(e){return Object(T.jsx)(m.a,{size:"small",variant:"highlight",onClick:function(){return t=e.value,void Object(x.a)(O.a.pipelineJobs(t)).then((function(e){S({pipelineId:t,jobs:e}),k(!0)}));var t},children:e.value})}},{field:"created_at",headerName:"Created Time",flex:1,renderCell:function(e){return"".concat(Object(p.a)(new Date(e.value))," ago")}},{field:"head_commit",headerName:"Description",flex:1,renderCell:function(e){return Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)("a",{href:"https://github.com/litmuschaos/".concat(W,"/commit/").concat(e.value.id),children:"#".concat(e.value.id.substring(0,6))})," ","\xa0 ",z("table.repository"),": ",W]})}}].concat(Object(i.a)(j?[{field:"version",headerName:"Version",flex:1,renderCell:function(){return"ci"}}]:[]),[{field:"status",headerName:"Pipeline Job Status",flex:1,renderCell:function(e){var t,a,i;return Object(T.jsx)(h.a,{pass:(null===(t=e.value)||void 0===t?void 0:t.pass)||0,fail:(null===(a=e.value)||void 0===a?void 0:a.fail)||0,pending:(null===(i=e.value)||void 0===i?void 0:i.pending)||0})}}]);return Object(l.useEffect)((function(){(null!=(null===a||void 0===a?void 0:a.match(/.*Portal.*$/))||(null===o||void 0===o?void 0:o.match(/.*Portal.*$/)))&&G("litmus")}),[]),Object(T.jsxs)(T.Fragment,{children:[t&&Object(T.jsx)(b.a,{rows:t,columns:F,id:a||o,pageSize:g,onPageSizeChange:function(e){return N(e)},rowsPerPageOptions:[5,10,20],autoHeight:!0,pagination:!0,disableSelectionOnClick:!0}),Object(T.jsx)(u.a,{anchor:"right",icon:"close",variant:"temporary",onButtonClose:A(!1),onClose:A(!1),open:I,children:Object(T.jsx)("div",{className:B.drawerContainer,children:Object(T.jsx)(Y,{data:null===y||void 0===y?void 0:y.jobs,pipelineId:null===y||void 0===y?void 0:y.pipelineId})})})]})},ee=a(34),te=Object(r.a)((function(e){return{formControl:{margin:e.spacing(1),minWidth:120},label:{color:"#0000008a"},flexSpace:{display:"flex",justifyContent:"space-between"},flexStart:{display:"flex",justifyContent:"flex-start",alignItems:"center"},m0:{margin:"auto 0"}}}));t.default=function(e){var t,a,r=e.location,b=e.match,m=(b=void 0===b?{}:b).params,u=(m=void 0===m?{}:m).pipelineName,p=te(),v=Object(l.useState)({id:(null===r||void 0===r||null===(t=r.state)||void 0===t?void 0:t.id)||"",readableName:(null===r||void 0===r||null===(a=r.state)||void 0===a?void 0:a.readableName)||""}),f=Object(n.a)(v,2),g=f[0],N=f[1],C=Object(l.useState)(null),P=Object(n.a)(C,2),y=P[0],S=P[1],w=Object(ee.a)("manualRuns"),D=Object(ee.a)("nightlyRuns"),I=[].concat(Object(i.a)(w),Object(i.a)(D));Object(l.useEffect)((function(){var e;g.id&&Object(x.a)(O.a.pipelinesByWorkflow(g.id)).then((function(t){var a;e=null===t||void 0===t?void 0:t.workflow_runs;var i=[];null===(a=e)||void 0===a||a.forEach((function(t,a){i.push(Object(x.a)(O.a.pipelineJobs(null===t||void 0===t?void 0:t.id)).then((function(t){e[a].status=E(null===t||void 0===t?void 0:t.jobs)})))})),Promise.all(i).then((function(){S(e)}))}))}),[g.id]);var _=Object(s.a)().t;return Object(T.jsxs)(T.Fragment,{children:[Object(T.jsxs)("div",{className:p.flexSpace,children:[Object(T.jsxs)("div",{className:p.flexStart,children:[Object(T.jsxs)(j.a,{children:[_("pipelinePage.selectPipeline"),":"]}),Object(T.jsxs)(o.a,{variant:"outlined",className:p.formControl,children:[Object(T.jsx)(c.a,{htmlFor:"outlined-pipelineName",className:p.label,children:_("pipelinePage.pipelineName")}),Object(T.jsxs)(d.a,{native:!0,value:g.id,onChange:function(e){N({id:e.target.value,readableName:e.target.options[e.target.selectedIndex].text})},label:"pipelineName",inputProps:{name:"pipelineName",id:"outlined-pipelineName"},children:[Object(T.jsx)("option",{"aria-label":"None",value:""}),I&&I.map((function(e){return Object(T.jsx)("option",{value:e.id,children:e.readableName},e.id)}))]})]})]}),Object(T.jsxs)("div",{className:p.m0,children:[Object(T.jsx)(j.a,{variant:"heading3",component:"h2",align:"center",className:p.topMargin,children:Object(k.b)(null===g||void 0===g?void 0:g.readableName)||Object(k.b)(u)}),Object(T.jsx)(j.a,{component:"h3",align:"center",className:p.topMargin,children:W[null===g||void 0===g?void 0:g.readableName]||W[u]})]}),g.id&&Object(T.jsx)("div",{children:Object(T.jsx)(h.a,{pass:20,fail:5,pending:2,size:"large",heading:"Test Coverage"})})]}),g.id&&y&&Object(T.jsx)(Z,{tableName:g.readableName,data:y,displayVersion:!1})]})}}}]);
//# sourceMappingURL=7.092aa32d.chunk.js.map